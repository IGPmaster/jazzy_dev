import{B as t}from"../runtime.mjs";import{c as e,$ as r,a0 as s,a1 as a,a2 as n,r as i,a3 as o,a4 as c,a5 as l,a6 as u,a7 as d,a8 as h,u as p}from"./server.mjs";const y=Object.freeze({ignoreUnknown:!1,respectType:!1,respectFunctionNames:!1,respectFunctionProperties:!1,unorderedObjects:!0,unorderedArrays:!1,unorderedSets:!1,excludeKeys:void 0,excludeValues:void 0,replacer:void 0});function objectHash(t,e){const r=createHasher(e=e?{...y,...e}:y);return r.dispatch(t),r.toString()}const f=Object.freeze(["prototype","__proto__","constructor"]);function createHasher(e){let r="",s=new Map;const write=t=>{r+=t};return{toString:()=>r,getContext:()=>s,dispatch(t){e.replacer&&(t=e.replacer(t));return this[null===t?"null":typeof t](t)},object(r){if(r&&"function"==typeof r.toJSON)return this.object(r.toJSON());const a=Object.prototype.toString.call(r);let n="";const i=a.length;n=i<10?"unknown:["+a+"]":a.slice(8,i-1),n=n.toLowerCase();let o=null;if(void 0!==(o=s.get(r)))return this.dispatch("[CIRCULAR:"+o+"]");if(s.set(r,s.size),void 0!==t&&t.isBuffer&&t.isBuffer(r))return write("buffer:"),write(r.toString("utf8"));if("object"!==n&&"function"!==n&&"asyncfunction"!==n)this[n]?this[n](r):e.ignoreUnknown||this.unkown(r,n);else{let t=Object.keys(r);e.unorderedObjects&&(t=t.sort());let s=[];!1===e.respectType||isNativeFunction(r)||(s=f),e.excludeKeys&&(t=t.filter((t=>!e.excludeKeys(t))),s=s.filter((t=>!e.excludeKeys(t)))),write("object:"+(t.length+s.length)+":");const dispatchForKey=t=>{this.dispatch(t),write(":"),e.excludeValues||this.dispatch(r[t]),write(",")};for(const e of t)dispatchForKey(e);for(const t of s)dispatchForKey(t)}},array(t,r){if(r=void 0===r?!1!==e.unorderedArrays:r,write("array:"+t.length+":"),!r||t.length<=1){for(const e of t)this.dispatch(e);return}const a=new Map,n=t.map((t=>{const r=createHasher(e);r.dispatch(t);for(const[t,e]of r.getContext())a.set(t,e);return r.toString()}));return s=a,n.sort(),this.array(n,!1)},date:t=>write("date:"+t.toJSON()),symbol:t=>write("symbol:"+t.toString()),unkown(t,e){if(write(e),t)return write(":"),t&&"function"==typeof t.entries?this.array(Array.from(t.entries()),!0):void 0},error:t=>write("error:"+t.toString()),boolean:t=>write("bool:"+t),string(t){write("string:"+t.length+":"),write(t)},function(t){write("fn:"),isNativeFunction(t)?this.dispatch("[native]"):this.dispatch(t.toString()),!1!==e.respectFunctionNames&&this.dispatch("function-name:"+String(t.name)),e.respectFunctionProperties&&this.object(t)},number:t=>write("number:"+t),xml:t=>write("xml:"+t.toString()),null:()=>write("Null"),undefined:()=>write("Undefined"),regexp:t=>write("regex:"+t.toString()),uint8array(t){return write("uint8array:"),this.dispatch(Array.prototype.slice.call(t))},uint8clampedarray(t){return write("uint8clampedarray:"),this.dispatch(Array.prototype.slice.call(t))},int8array(t){return write("int8array:"),this.dispatch(Array.prototype.slice.call(t))},uint16array(t){return write("uint16array:"),this.dispatch(Array.prototype.slice.call(t))},int16array(t){return write("int16array:"),this.dispatch(Array.prototype.slice.call(t))},uint32array(t){return write("uint32array:"),this.dispatch(Array.prototype.slice.call(t))},int32array(t){return write("int32array:"),this.dispatch(Array.prototype.slice.call(t))},float32array(t){return write("float32array:"),this.dispatch(Array.prototype.slice.call(t))},float64array(t){return write("float64array:"),this.dispatch(Array.prototype.slice.call(t))},arraybuffer(t){return write("arraybuffer:"),this.dispatch(new Uint8Array(t))},url:t=>write("url:"+t.toString()),map(t){write("map:");const r=[...t];return this.array(r,!1!==e.unorderedSets)},set(t){write("set:");const r=[...t];return this.array(r,!1!==e.unorderedSets)},file(t){return write("file:"),this.dispatch([t.name,t.size,t.type,t.lastModfied])},blob(){if(e.ignoreUnknown)return write("[blob]");throw new Error('Hashing Blob objects is currently not supported\nUse "options.replacer" or "options.ignoreUnknown"\n')},domwindow:()=>write("domwindow"),bigint:t=>write("bigint:"+t.toString()),process:()=>write("process"),timer:()=>write("timer"),pipe:()=>write("pipe"),tcp:()=>write("tcp"),udp:()=>write("udp"),tty:()=>write("tty"),statwatcher:()=>write("statwatcher"),securecontext:()=>write("securecontext"),connection:()=>write("connection"),zlib:()=>write("zlib"),context:()=>write("context"),nodescript:()=>write("nodescript"),httpparser:()=>write("httpparser"),dataview:()=>write("dataview"),signal:()=>write("signal"),fsevent:()=>write("fsevent"),tlswrap:()=>write("tlswrap")}}const g="[native code] }",m=g.length;function isNativeFunction(t){return"function"==typeof t&&Function.prototype.toString.call(t).slice(-m)===g}var w=Object.defineProperty,__publicField$1=(t,e,r)=>(((t,e,r)=>{e in t?w(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r})(t,"symbol"!=typeof e?e+"":e,r),r);class WordArray{constructor(t,e){__publicField$1(this,"words"),__publicField$1(this,"sigBytes"),t=this.words=t||[],this.sigBytes=void 0===e?4*t.length:e}toString(t){return(t||v).stringify(this)}concat(t){if(this.clamp(),this.sigBytes%4)for(let e=0;e<t.sigBytes;e++){const r=t.words[e>>>2]>>>24-e%4*8&255;this.words[this.sigBytes+e>>>2]|=r<<24-(this.sigBytes+e)%4*8}else for(let e=0;e<t.sigBytes;e+=4)this.words[this.sigBytes+e>>>2]=t.words[e>>>2];return this.sigBytes+=t.sigBytes,this}clamp(){this.words[this.sigBytes>>>2]&=4294967295<<32-this.sigBytes%4*8,this.words.length=Math.ceil(this.sigBytes/4)}clone(){return new WordArray([...this.words])}}const v={stringify(t){const e=[];for(let r=0;r<t.sigBytes;r++){const s=t.words[r>>>2]>>>24-r%4*8&255;e.push((s>>>4).toString(16),(15&s).toString(16))}return e.join("")}},_={stringify(t){const e=[];for(let r=0;r<t.sigBytes;r+=3){const s=(t.words[r>>>2]>>>24-r%4*8&255)<<16|(t.words[r+1>>>2]>>>24-(r+1)%4*8&255)<<8|t.words[r+2>>>2]>>>24-(r+2)%4*8&255;for(let a=0;a<4&&8*r+6*a<8*t.sigBytes;a++)e.push("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(s>>>6*(3-a)&63))}return e.join("")}},b={parse(t){const e=t.length,r=[];for(let s=0;s<e;s++)r[s>>>2]|=(255&t.charCodeAt(s))<<24-s%4*8;return new WordArray(r,e)}},B={parse:t=>b.parse(unescape(encodeURIComponent(t)))};class BufferedBlockAlgorithm{constructor(){__publicField$1(this,"_data",new WordArray),__publicField$1(this,"_nDataBytes",0),__publicField$1(this,"_minBufferSize",0),__publicField$1(this,"blockSize",16)}reset(){this._data=new WordArray,this._nDataBytes=0}_append(t){"string"==typeof t&&(t=B.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes}_doProcessBlock(t,e){}_process(t){let e,r=this._data.sigBytes/(4*this.blockSize);r=t?Math.ceil(r):Math.max((0|r)-this._minBufferSize,0);const s=r*this.blockSize,a=Math.min(4*s,this._data.sigBytes);if(s){for(let t=0;t<s;t+=this.blockSize)this._doProcessBlock(this._data.words,t);e=this._data.words.splice(0,s),this._data.sigBytes-=a}return new WordArray(e,a)}}class Hasher extends BufferedBlockAlgorithm{update(t){return this._append(t),this._process(),this}finalize(t){t&&this._append(t)}}var D=Object.defineProperty,__publicField=(t,e,r)=>(((t,e,r)=>{e in t?D(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r})(t,e+"",r),r);const S=[1779033703,-1150833019,1013904242,-1521486534,1359893119,-1694144372,528734635,1541459225],A=[1116352408,1899447441,-1245643825,-373957723,961987163,1508970993,-1841331548,-1424204075,-670586216,310598401,607225278,1426881987,1925078388,-2132889090,-1680079193,-1046744716,-459576895,-272742522,264347078,604807628,770255983,1249150122,1555081692,1996064986,-1740746414,-1473132947,-1341970488,-1084653625,-958395405,-710438585,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,-2117940946,-1838011259,-1564481375,-1474664885,-1035236496,-949202525,-778901479,-694614492,-200395387,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,-2067236844,-1933114872,-1866530822,-1538233109,-1090935817,-965641998],x=[];class SHA256 extends Hasher{constructor(){super(...arguments),__publicField(this,"_hash",new WordArray([...S]))}reset(){super.reset(),this._hash=new WordArray([...S])}_doProcessBlock(t,e){const r=this._hash.words;let s=r[0],a=r[1],n=r[2],i=r[3],o=r[4],c=r[5],l=r[6],u=r[7];for(let r=0;r<64;r++){if(r<16)x[r]=0|t[e+r];else{const t=x[r-15],e=(t<<25|t>>>7)^(t<<14|t>>>18)^t>>>3,s=x[r-2],a=(s<<15|s>>>17)^(s<<13|s>>>19)^s>>>10;x[r]=e+x[r-7]+a+x[r-16]}const d=s&a^s&n^a&n,h=(s<<30|s>>>2)^(s<<19|s>>>13)^(s<<10|s>>>22),p=u+((o<<26|o>>>6)^(o<<21|o>>>11)^(o<<7|o>>>25))+(o&c^~o&l)+A[r]+x[r];u=l,l=c,c=o,o=i+p|0,i=n,n=a,a=s,s=p+(h+d)|0}r[0]=r[0]+s|0,r[1]=r[1]+a|0,r[2]=r[2]+n|0,r[3]=r[3]+i|0,r[4]=r[4]+o|0,r[5]=r[5]+c|0,r[6]=r[6]+l|0,r[7]=r[7]+u|0}finalize(t){super.finalize(t);const e=8*this._nDataBytes,r=8*this._data.sigBytes;return this._data.words[r>>>5]|=128<<24-r%32,this._data.words[14+(r+64>>>9<<4)]=Math.floor(e/4294967296),this._data.words[15+(r+64>>>9<<4)]=e,this._data.sigBytes=4*this._data.words.length,this._process(),this._hash}}function hash(t,e={}){const r="string"==typeof t?t:objectHash(t,e);return(s=r,(new SHA256).finalize(s).toString(_)).slice(0,10);var s}function useRequestFetch(){var t;return(null==(t=function(t=d()){var e;return null==(e=t.ssrContext)?void 0:e.event}())?void 0:t.$fetch)||globalThis.$fetch}const isDefer=t=>"defer"===t||!1===t;function useAsyncData(...t){var e,r,s,a,y,f,g,m,w;const v="string"==typeof t[t.length-1]?t.pop():void 0;"string"!=typeof t[0]&&t.unshift(v);let[_,b,B={}]=t;if("string"!=typeof _)throw new TypeError("[nuxt] [asyncData] key must be a string.");if("function"!=typeof b)throw new TypeError("[nuxt] [asyncData] handler must be a function.");const D=d(),S=b;B.server=null==(e=B.server)||e,B.default=null!=(r=B.default)?r:()=>null,B.getCachedData=null!=(s=B.getCachedData)?s:()=>D.isHydrating?D.payload.data[_]:D.static.data[_],B.lazy=null!=(a=B.lazy)&&a,B.immediate=null==(y=B.immediate)||y,B.deep=null!=(f=B.deep)?f:n.deep,B.dedupe=null!=(g=B.dedupe)?g:"cancel";const hasCachedData=()=>null!=B.getCachedData(_,D);if(!D._asyncData[_]||!B.immediate){null!=(w=D.payload._errors)[_]||(w[_]=null);const t=B.deep?i:o;D._asyncData[_]={data:t(null!=(m=B.getCachedData(_,D))?m:B.default()),pending:i(!hasCachedData()),error:c(D.payload._errors,_),status:i("idle")}}const A={...D._asyncData[_]};A.refresh=A.execute=(t={})=>{var e;if(D._asyncDataPromises[_]){if(isDefer(null!=(e=t.dedupe)?e:B.dedupe))return D._asyncDataPromises[_];D._asyncDataPromises[_].cancelled=!0}if((t._initial||D.isHydrating&&!1!==t._initial)&&hasCachedData())return Promise.resolve(B.getCachedData(_,D));A.pending.value=!0,A.status.value="pending";const r=new Promise(((t,e)=>{try{t(S(D))}catch(t){e(t)}})).then((async t=>{if(r.cancelled)return D._asyncDataPromises[_];let e=t;B.transform&&(e=await B.transform(t)),B.pick&&(e=function(t,e){const r={};for(const s of e)r[s]=t[s];return r}(e,B.pick)),D.payload.data[_]=e,A.data.value=e,A.error.value=null,A.status.value="success"})).catch((t=>{if(r.cancelled)return D._asyncDataPromises[_];A.error.value=h(t),A.data.value=p(B.default()),A.status.value="error"})).finally((()=>{r.cancelled||(A.pending.value=!1,delete D._asyncDataPromises[_])}));return D._asyncDataPromises[_]=r,D._asyncDataPromises[_]},A.clear=()=>function(t,e){e in t.payload.data&&(t.payload.data[e]=void 0);e in t.payload._errors&&(t.payload._errors[e]=null);t._asyncData[e]&&(t._asyncData[e].data.value=void 0,t._asyncData[e].error.value=null,t._asyncData[e].pending.value=!1,t._asyncData[e].status.value="idle");e in t._asyncDataPromises&&(t._asyncDataPromises[e].cancelled=!0,t._asyncDataPromises[e]=void 0)}(D,_);if(!1!==B.server&&D.payload.serverRendered&&B.immediate){const t=A.refresh({_initial:!0});l()?u((()=>t)):D.hook("app:created",(async()=>{await t}))}const x=Promise.resolve(D._asyncDataPromises[_]).then((()=>A));return Object.assign(x,A),x}function useFetch(t,n,i){const[o={},c]="string"==typeof n?[{},n]:[n,i],l=e((()=>a(t))),u=o.key||hash([c,"string"==typeof l.value?l.value:"",...generateOptionSegments(o)]);if(!u||"string"!=typeof u)throw new TypeError("[nuxt] [useFetch] key must be a string: "+u);if(!t)throw new Error("[nuxt] [useFetch] request is missing.");const d=u===c?"$f"+u:u;if(!o.baseURL&&"string"==typeof l.value&&"/"===l.value[0]&&"/"===l.value[1])throw new Error('[nuxt] [useFetch] the request URL must not start with "//".');const{server:h,lazy:p,default:y,transform:f,pick:g,watch:m,immediate:w,getCachedData:v,deep:_,dedupe:b,...B}=o,D=r({...s,...B,cache:"boolean"==typeof o.cache?void 0:o.cache});let S;return useAsyncData(d,(()=>{var t;null==(t=null==S?void 0:S.abort)||t.call(S),S="undefined"!=typeof AbortController?new AbortController:{};const e=a(o.timeout);e&&setTimeout((()=>S.abort()),e);let r=o.$fetch||globalThis.$fetch;if(!o.$fetch){"string"==typeof l.value&&"/"===l.value[0]&&(!a(o.baseURL)||"/"===a(o.baseURL)[0])&&(r=useRequestFetch())}return r(l.value,{signal:S.signal,...D})}),{server:h,lazy:p,default:y,transform:f,pick:g,immediate:w,getCachedData:v,deep:_,dedupe:b,watch:!1===m?[]:[D,l,...m||[]]})}function generateOptionSegments(t){var e;const r=[(null==(e=a(t.method))?void 0:e.toUpperCase())||"GET",a(t.baseURL)];for(const e of[t.params||t.query]){const t=a(e);if(!t)continue;const s={};for(const[e,r]of Object.entries(t))s[a(e)]=a(r);r.push(s)}return r}export{useFetch as u};
//# sourceMappingURL=fetch-DRsyx7hk.mjs.map
