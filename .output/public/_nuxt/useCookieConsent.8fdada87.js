import{r as l,f as I,af as g,Z as D,ag as m}from"./entry.a7a63bae.js";const E=l(!1),W=l({necessary:!0,analytics:!0,affiliate:!0}),A=l(!1),r=l(!1);function O(){const c=E,w=A,y=l(null),T=l(""),v=l(""),S=l(""),n=W,C=[{id:"necessary",label:"Necessary Cookies",description:"Essential for website functionality. These cookies are required and cannot be disabled.",required:!0},{id:"analytics",label:"Analytics Cookies",description:"Help us understand how visitors interact with our website. These cookies collect anonymous information.",required:!1},{id:"affiliate",label:"Affiliate Tracking",description:"Essential for our business operations. We use a unique identifier stored for 30 days to credit our partners when you visit gaming sites. No personal data is collected.",required:!0}],p=()=>typeof window>"u"?null:new URLSearchParams(window.location.search).get("tracker"),s=t=>{const a=new URLSearchParams(window.location.search),o=a.get("btag"),e=a.get("affid");let i=a.get("tracker");i||(i=t||g("affiliateTracker"));let f=[];i&&f.push(`tracker=${i}`),o&&f.push(`btag=${o}`),e&&f.push(`affid=${e}`);const _=f.join("&"),k=_?`?${_}`:"";T.value=`${m}${k}#registration`,v.value=`${m}${k}#login`,S.value=`${m}${k}#play/`},h=t=>{if(!t){s(null);return}const a=new Date;a.setDate(a.getDate()+30),document.cookie=`affiliateTracker=${t}; max-age=${30*24*60*60}; path=/; SameSite=Strict; Secure`,s(t)},u=t=>{if(typeof window>"u")return;const a=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack;if((a==="1"||a==="yes")&&(t=!1),t)window.dataLayer&&(window.dataLayer.push({event:"consent_update",analytics_storage:"granted",ad_storage:"granted",functionality_storage:"granted",personalization_storage:"granted",security_storage:"granted"}),r.value&&window.initializeGTM&&window.initializeGTM(),window.dataLayer.push({event:"pageview",page_path:window.location.pathname,page_title:document.title}));else if(document.cookie.split(";").map(e=>e.split("=")[0].trim()).filter(e=>e.startsWith("_ga")||e.startsWith("_gid")||e.startsWith("_gat")||e.startsWith("_dc_gtm")).forEach(e=>{document.cookie=`${e}=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/`,document.cookie=`${e}=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/; domain=${window.location.hostname}`,document.cookie=`${e}=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/; domain=.${window.location.hostname}`}),Object.keys(localStorage).forEach(e=>{(e.startsWith("_ga")||e.startsWith("ga:"))&&localStorage.removeItem(e)}),delete window.ga,delete window.google_tag_manager,delete window.google_tag_data,delete window._gaq,delete window.gaData,delete window.gaGlobal,window.dataLayer){const e=window.dataLayer[0];window.dataLayer=[e]}},L=()=>{if(typeof document>"u")return;const t=["PHPSESSID","affiliateTracker"];document.cookie.split(";").forEach(e=>{const i=e.split("=")[0].trim();t.includes(i)||(document.cookie=`${i}=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/`,document.cookie=`${i}=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/; domain=${window.location.hostname}`,document.cookie=`${i}=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/; domain=.${window.location.hostname}`)}),document.cookie.split(";").map(e=>e.split("=")[0].trim()).filter(e=>e.startsWith("_ga")||e.startsWith("_gid")||e.startsWith("_gat")||e.startsWith("_dc_gtm")).forEach(e=>{document.cookie=`${e}=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/`,document.cookie=`${e}=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/; domain=${window.location.hostname}`,document.cookie=`${e}=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/; domain=.${window.location.hostname}`})},d=t=>{if(!r.value)return;t.analytics||L(),localStorage.setItem("cookieConsent",JSON.stringify({preferences:t,timestamp:new Date().toISOString(),version:"1.0"}));const o=p()||y.value;if(o)h(o);else{const e=g("affiliateTracker");s(e)}u(t.analytics)},b=()=>{r.value=!0;const t={necessary:!0,analytics:!0,affiliate:!0};n.value=t,d(t),u(!0),c.value=!1},$=()=>{if(typeof window>"u")return;const t=["PHPSESSID","affiliateTracker"];document.cookie.split(";").forEach(e=>{const i=e.split("=")[0].trim();t.includes(i)||(document.cookie=`${i}=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/`,document.cookie=`${i}=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/; domain=${window.location.hostname}`,document.cookie=`${i}=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/; domain=.${window.location.hostname}`)});const o=["cookieConsent"];if(Object.keys(localStorage).forEach(e=>{o.includes(e)||localStorage.removeItem(e)}),sessionStorage.clear(),window.dataLayer){const e=window.dataLayer[0];window.dataLayer=[e]}delete window.ga,delete window.google_tag_manager,delete window.google_tag_data,delete window._gaq,delete window.gaData,delete window.gaGlobal},x=()=>{r.value=!0;const t={necessary:!0,analytics:!1,affiliate:!0};n.value=t,$(),d(t),c.value=!1},G=()=>{r.value=!0;const t={...n.value,necessary:!0,affiliate:!0};n.value=t,d(t),c.value=!1,w.value=!1},P=()=>{if(w.value=!0,!localStorage.getItem("cookieConsent"))n.value={necessary:!0,analytics:!0,affiliate:!0};else try{const{preferences:t}=JSON.parse(localStorage.getItem("cookieConsent"));n.value={...t,necessary:!0,affiliate:!0}}catch{n.value={necessary:!0,analytics:!0,affiliate:!0}}},M=()=>{const t=localStorage.getItem("cookieConsent");if(!t)return null;try{return JSON.parse(t)}catch{return null}},J=()=>{$(),localStorage.removeItem("cookieConsent"),n.value={necessary:!0,analytics:!1,affiliate:!0},s(null),c.value=!0};return I(()=>{const t=localStorage.getItem("cookieConsent");if(t)try{const{preferences:a}=JSON.parse(t);if(r.value=!0,n.value={...a,necessary:!0,affiliate:!0},a.affiliate&&r.value){const o=p();if(o)h(o);else{const e=g("affiliateTracker");s(e)}}else s(null);u(a.analytics),c.value=!1}catch(a){console.error("Error parsing saved consent:",a),r.value=!1,n.value={necessary:!0,analytics:!0,affiliate:!0},c.value=!0,s(null)}else r.value=!1,n.value={necessary:!0,analytics:!0,affiliate:!0},s(null),c.value=!0}),D(n,t=>{if(!(typeof window>"u"))if(d(t),u(t.analytics),t.affiliate){const o=p()||y.value;if(o)h(o);else{const e=g("affiliateTracker");s(e)}}else s(null)},{deep:!0}),{showBanner:c,isPreferencesOpen:w,preferences:n,cookieCategories:C,handleAcceptAll:b,handleDeclineAll:x,savePreferences:G,handleOpenPreferences:P,withdrawConsent:J,getConsentStatus:M,regLink:T,loginLink:v,playLink:S}}export{O as u};
